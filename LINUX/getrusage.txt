#include <sys/resource.h>
void GetRusageTiming(void){
struct rusage tBeginResource, tEndResource;
getrusage(RUSAGE_SELF, &tBeginResource);
TimingFunc();
getrusage(RUSAGE_SELF, &tEndResource);
unsigned dwCostSec = (tEndResource.ru_utime.tv_sec-tBeginResource.ru_utime.tv_sec) +                 (tEndResource.ru_stime.tv_sec-tBeginResource.ru_stime.tv_sec);
unsigned dwCostUsec = (tEndResource.ru_utime.tv_usec-tBeginResource.ru_utime.tv_usec) +                       (tEndResource.ru_stime.tv_usec-tBeginResource.ru_stime.tv_usec);
printf("[getrusage]Cost Time = %dSec, %dUsec\n", dwCostSec, dwCostUsec);
}
sec += usec/1000000;